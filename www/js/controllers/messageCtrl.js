angular.module('drsmith.controllers.messageCtrl', [])
.controller('messageCtrl',function($scope,$http,$rootScope,$stateParams,$state,$ionicModal){
    $scope.mentor_getmessages=function(mentee_id){
        $http(
            {
                url:$rootScope.url+"/myproject",
                method:"GET",
                params:{mentor_id:$rootScope.id,mentee_id:mentee_id}
            })
            .then(function(response){
                console.log(response.data)
            })
    }
    $scope.mentee_getmessages=function(){
        $http(
            {
                url:$rootScope.url+"/myproject",
                method:"GET",
                params:{mentor_id:$rootScope.mentor_id,mentee_id:$rootScope.id}
            })
            .then(function(response){
                console.log(response.data)
            })
    }
    $scope.msgObj={
        text:""
    };
    $scope.mentor_message=function(mentee_id){
        $http(
            {
                url:$rootScope.url+"/myproject",
                method:"GET",
                params:{sender_id:$rootScope.id,sender_type:$rootScope.type,
                    reciever_id:mentee_id,message:$scope.msgObj.text}
            })
            .then(function(response){
                console.log(response.data)
                $scope.msgObj={
                    text:""
                };
            })
    }
    $scope.mentee_message=function(){
        $http(
            {
                url:$rootScope.url+"/myproject",
                method:"GET",
                params:{sender_id:$rootScope.id,sender_type:$rootScope.type,
                    reciever_id:$rootScope.mentor_id,message:$scope.msgObj.text}
            })
            .then(function(response){
                console.log(response.data)
                $scope.msgObj={
                    text:""
                };
            })
    }
    
})